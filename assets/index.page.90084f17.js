var W=Object.defineProperty;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var p=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&p(e,n,t[n]);if(m)for(var n of m(t))b.call(t,n)&&p(e,n,t[n]);return e};import{j as c,a as r,p as y}from"./page_config.1b3d6514.js";import{r as h,a as C}from"./vendor.74fa4180.js";import{P as u}from"./P.c4911375.js";function P(e){const[t,n]=h.exports.useState(e),o=d({},t);return new Proxy(o,{set:s});function s(i,l,g){return o[l]=g,n(d({},o)),!0}}function S(){return c("span",{className:"text-red",children:["Something unexpected happened, ",r("a",{href:"/contact",children:"contact the Lsos"}),"."]})}const f={email:"",password:"",wrongCredentials:null,somethingWentWrong:!1};function j(){const e=P(f),t=()=>{e.wrongCredentials=f.wrongCredentials,e.somethingWentWrong=f.somethingWentWrong};return r("form",{id:"login-form",className:"lsos-form gray-block",onSubmit:n,children:c("fieldset",{children:[r("h1",{children:"Sign In"}),r(u,{children:r(w,{formState:e,formKey:"email",label:"E-mail",autoFocus:!0,onChange:t})}),r(u,{children:r(w,{formState:e,formKey:"password",label:"Password",isPassword:!0,onChange:t})}),c(u,{children:[r("span",{style:{display:"block",height:13}}),r("button",{className:"lsos-button",type:"submit",style:{width:"100%"},children:"Sign In"})]}),r(v,{formState:e})]})});async function n(o){o.preventDefault();let a=null,s=!1;e.wrongCredentials=a,e.somethingWentWrong=s;let i;try{a=!0}catch{s=!0}C(s||a||i),e.wrongCredentials=a,e.somethingWentWrong=s}}function v({formState:e}){return e.wrongCredentials?r(u,{className:"text-red",children:"Wrong credentials."}):e.somethingWentWrong?r(S,{}):null}function w({formState:e,formKey:t,label:n,isPassword:o,autoFocus:a,onChange:s}){const i=h.exports.useRef(null),l=()=>{i.current.focus()};return h.exports.useEffect(()=>{a&&setTimeout(()=>{l()},0)},[]),c("label",{children:[r("div",{className:"input-label",children:n}),r("input",{ref:i,style:{width:"100%"},type:o?"password":"text",value:e[t],onChange:g=>{e[t]=g.target.value,s()}})]})}var k=y(E,"Sign In",{noPageTitle:!0});function E(){return r(j,{})}export{k as default};
